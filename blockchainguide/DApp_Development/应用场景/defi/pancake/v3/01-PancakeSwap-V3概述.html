<!DOCTYPE html>
<html lang="zh" dir="ltr"><head><title>01-PancakeSwap-V3概述</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto Serif SC:wght@400;700&amp;family=Noto Sans SC:ital,wght@0,400;0,600;1,400;1,600&amp;family=JetBrains Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="MindCarver Blog"/><meta property="og:title" content="01-PancakeSwap-V3概述"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="01-PancakeSwap-V3概述"/><meta name="twitter:description" content="死磕PancakeSwap V3（一）：PancakeSwap V3概述 本文是「死磕PancakeSwap V3」系列的第一篇，介绍PancakeSwap的发展历程、V3的核心创新以及与Uniswap V3的差异。 系列导航 序号标题核心内容01PancakeSwap V3概述发展历程、集中流动性、V3特色02Tick机制与价格数学Tick设计、价格转换算法03架构与合约设计Factory、Pool合约结构04交换机制深度解析swap函数、价格发现05流动性管理与头寸Position、mint/burn06费用系统与预言机费用分配、TWAP07V3与Uniswap V3对比差异点、优化、适用..."/><meta property="og:description" content="死磕PancakeSwap V3（一）：PancakeSwap V3概述 本文是「死磕PancakeSwap V3」系列的第一篇，介绍PancakeSwap的发展历程、V3的核心创新以及与Uniswap V3的差异。 系列导航 序号标题核心内容01PancakeSwap V3概述发展历程、集中流动性、V3特色02Tick机制与价格数学Tick设计、价格转换算法03架构与合约设计Factory、Pool合约结构04交换机制深度解析swap函数、价格发现05流动性管理与头寸Position、mint/burn06费用系统与预言机费用分配、TWAP07V3与Uniswap V3对比差异点、优化、适用..."/><meta property="og:image:alt" content="死磕PancakeSwap V3（一）：PancakeSwap V3概述 本文是「死磕PancakeSwap V3」系列的第一篇，介绍PancakeSwap的发展历程、V3的核心创新以及与Uniswap V3的差异。 系列导航 序号标题核心内容01PancakeSwap V3概述发展历程、集中流动性、V3特色02Tick机制与价格数学Tick设计、价格转换算法03架构与合约设计Factory、Pool合约结构04交换机制深度解析swap函数、价格发现05流动性管理与头寸Position、mint/burn06费用系统与预言机费用分配、TWAP07V3与Uniswap V3对比差异点、优化、适用..."/><meta property="og:image" content="https://https://mindcarver.top/static/og-image.png"/><meta property="og:image:url" content="https://https://mindcarver.top/static/og-image.png"/><meta name="twitter:image" content="https://https://mindcarver.top/static/og-image.png"/><meta property="og:image:type" content="image/.png"/><meta property="twitter:domain" content="https://mindcarver.top"/><meta property="og:url" content="https://https//mindcarver.top/blockchainguide/DApp_Development/应用场景/defi/pancake/v3/01-PancakeSwap-V3概述"/><meta property="twitter:url" content="https://https//mindcarver.top/blockchainguide/DApp_Development/应用场景/defi/pancake/v3/01-PancakeSwap-V3概述"/><link rel="icon" href="../../../../../../static/icon.png"/><meta name="description" content="死磕PancakeSwap V3（一）：PancakeSwap V3概述 本文是「死磕PancakeSwap V3」系列的第一篇，介绍PancakeSwap的发展历程、V3的核心创新以及与Uniswap V3的差异。 系列导航 序号标题核心内容01PancakeSwap V3概述发展历程、集中流动性、V3特色02Tick机制与价格数学Tick设计、价格转换算法03架构与合约设计Factory、Pool合约结构04交换机制深度解析swap函数、价格发现05流动性管理与头寸Position、mint/burn06费用系统与预言机费用分配、TWAP07V3与Uniswap V3对比差异点、优化、适用..."/><meta name="generator" content="Quartz"/><link href="../../../../../../index.css" rel="stylesheet" type="text/css" data-persist="true"/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvbWluZGNhcnZlci5naXRodWIuaW8vbWluZGNhcnZlci5naXRodWIuaW8vcXVhcnR6L2NvbXBvbmVudHMvc3R5bGVzIiwic291cmNlcyI6WyJtZXJtYWlkLmlubGluZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQTs7QUFHRjtFQUNFOzs7QUFLRjtFQUNFO0VBQ0E7OztBQUlKO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7QUFFQTtFQUNFOztBQUdGO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQTs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTs7QUFJRjtFQUNFO0VBQ0E7RUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi5leHBhbmQtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6IDAuNHJlbTtcbiAgbWFyZ2luOiAwLjNyZW07XG4gIHJpZ2h0OiAwOyAvLyBOT1RFOiByaWdodCB3aWxsIGJlIHNldCBpbiBtZXJtYWlkLmlubGluZS50c1xuICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyayk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogMC4ycztcblxuICAmID4gc3ZnIHtcbiAgICBmaWxsOiB2YXIoLS1saWdodCk7XG4gICAgZmlsdGVyOiBjb250cmFzdCgwLjMpO1xuICB9XG5cbiAgJjpob3ZlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgfVxuXG4gICY6Zm9jdXMge1xuICAgIG91dGxpbmU6IDA7XG4gIH1cbn1cblxucHJlIHtcbiAgJjpob3ZlciA+IC5leHBhbmQtYnV0dG9uIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zaXRpb246IDAuMnM7XG4gIH1cbn1cblxuI21lcm1haWQtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBjb250YWluOiBsYXlvdXQ7XG4gIHotaW5kZXg6IDk5OTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cbiAgJi5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gICYgPiAjbWVybWFpZC1zcGFjZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgaGVpZ2h0OiA4MHZoO1xuICAgIHdpZHRoOiA4MHZ3O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAmID4gLm1lcm1haWQtY29udGVudCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG4gICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xcyBlYXNlO1xuICAgICAgb3ZlcmZsb3c6IHZpc2libGU7XG4gICAgICBtaW4taGVpZ2h0OiAyMDBweDtcbiAgICAgIG1pbi13aWR0aDogMjAwcHg7XG5cbiAgICAgIHByZSB7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgfVxuXG4gICAgICBzdmcge1xuICAgICAgICBtYXgtd2lkdGg6IG5vbmU7XG4gICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAmID4gLm1lcm1haWQtY29udHJvbHMge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAyMHB4O1xuICAgICAgcmlnaHQ6IDIwcHg7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgZ2FwOiA4cHg7XG4gICAgICBwYWRkaW5nOiA4cHg7XG4gICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgYm94LXNoYWRvdzogMCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgIHotaW5kZXg6IDI7XG5cbiAgICAgIC5tZXJtYWlkLWNvbnRyb2wtYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgICBoZWlnaHQ6IDMycHg7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWRhcmspO1xuICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tYm9keUZvbnQpO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlO1xuXG4gICAgICAgICY6aG92ZXIge1xuICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWxpZ2h0Z3JheSk7XG4gICAgICAgIH1cblxuICAgICAgICAmOmFjdGl2ZSB7XG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDFweCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdHlsZSB0aGUgcmVzZXQgYnV0dG9uIGRpZmZlcmVudGx5XG4gICAgICAgICY6bnRoLWNoaWxkKDIpIHtcbiAgICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgICBwYWRkaW5nOiAwIDEycHg7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXX0= */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" data-persist="true"/><script src="../../../../../../prescript.js" type="application/javascript" data-persist="true"></script><script type="application/javascript" data-persist="true">const fetchData = fetch("../../../../../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://https://mindcarver.top/index.xml"/></head><body data-slug="blockchainguide/DApp_Development/应用场景/defi/pancake/v3/01-PancakeSwap-V3概述"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../../../../../..">MindCarver Blog</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>搜索</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="搜索些什么" placeholder="搜索些什么"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="暗色模式"><title>暗色模式</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="亮色模式"><title>亮色模式</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="阅读模式"><title>阅读模式</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="profile"><div class="profile-header"><img src="https://avatars.githubusercontent.com/u/32150062?v=4" alt="MindCarver" class="profile-avatar"/><div class="profile-info"><h2 class="profile-name">MindCarver</h2><p class="profile-bio">技术服务于产品</p></div></div><div class="profile-description"><p>深山中的匠心，专注于区块链开发与量化研究。相信最深刻的创新来自专注与坚持。</p></div><div class="profile-skills"><div class="skill-group"><span class="skill-icon">🔗</span><div><strong>区块链</strong><p class="skill-detail">智能合约 · DeFi · ZK证明</p></div></div><div class="skill-group"><span class="skill-icon">🤖</span><div><strong>机器学习</strong><p class="skill-detail">PyTorch · 时序预测 · 交易策略</p></div></div><div class="skill-group"><span class="skill-icon">📈</span><div><strong>量化交易</strong><p class="skill-detail">统计套利 · 风险管理 · MEV</p></div></div></div><div class="profile-links"><a href="https://github.com/mindcarver" target="_blank" rel="noopener" class="profile-link"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>GitHub</a></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-144"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>探索</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-144" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../../../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/">区块链技术指南</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/DApp_Development/">DApp_Development</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/DApp_Development/应用场景/">应用场景</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/DApp_Development/应用场景/defi/">defi</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/DApp_Development/应用场景/defi/pancake/">pancake</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../../../blockchainguide/DApp_Development/应用场景/defi/pancake/v3/">v3</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>01 PancakeSwap V3概述</a></div></nav><h1 class="article-title">01-PancakeSwap-V3概述</h1><p show-comma="true" class="content-meta"><time datetime="2026-01-22T05:46:57.373Z">2026年1月22日</time><span>13分钟阅读</span></p></div></div><article class="popover-hint"><h1 id="死磕pancakeswap-v3一pancakeswap-v3概述">死磕PancakeSwap V3（一）：PancakeSwap V3概述<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#死磕pancakeswap-v3一pancakeswap-v3概述" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<blockquote>
<p>本文是「死磕PancakeSwap V3」系列的第一篇，介绍PancakeSwap的发展历程、V3的核心创新以及与Uniswap V3的差异。</p>
</blockquote>
<h2 id="系列导航">系列导航<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#系列导航" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>




























































<div class="table-container"><table><thead><tr><th>序号</th><th>标题</th><th>核心内容</th></tr></thead><tbody><tr><td><strong>01</strong></td><td><strong>PancakeSwap V3概述</strong></td><td>发展历程、集中流动性、V3特色</td></tr><tr><td>02</td><td>Tick机制与价格数学</td><td>Tick设计、价格转换算法</td></tr><tr><td>03</td><td>架构与合约设计</td><td>Factory、Pool合约结构</td></tr><tr><td>04</td><td>交换机制深度解析</td><td>swap函数、价格发现</td></tr><tr><td>05</td><td>流动性管理与头寸</td><td>Position、mint/burn</td></tr><tr><td>06</td><td>费用系统与预言机</td><td>费用分配、TWAP</td></tr><tr><td>07</td><td>V3与Uniswap V3对比</td><td>差异点、优化、适用场景</td></tr><tr><td>08</td><td>多链部署与特性适配</td><td>BNB Chain、Ethereum、跨链策略</td></tr><tr><td>09</td><td>集成开发指南</td><td>SDK使用、交易构建、最佳实践</td></tr><tr><td>10</td><td>MEV与套利策略</td><td>JIT、三明治攻击、防范策略</td></tr></tbody></table></div>
<hr/>
<h2 id="1-pancakeswap的发展历程">1. PancakeSwap的发展历程<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#1-pancakeswap的发展历程" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="11-从v1到v3的演进">1.1 从V1到V3的演进<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#11-从v1到v3的演进" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap的发展历程代表了BNB Chain生态中DEX技术的快速演进：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;flowchart LR\n    subgraph V1[\&quot;PancakeSwap V1\&quot;]\n        A1[基于BSC]\n        A2[ETH-BNB配对]\n        A3[低gas费优势]\n        A4[高APY农场]\n    end\n\n    subgraph V2[\&quot;PancakeSwap V2\&quot;]\n        B1[任意代币配对]\n        B2[闪电贷功能]\n        B3[价格预言机]\n        B4[糖浆池Syrup Pools]\n    end\n\n    subgraph V3[\&quot;PancakeSwap V3\&quot;]\n        C1[集中流动性]\n        C2[多级费率]\n        C3[NFT LP Token]\n        C4[多链部署]\n        C5[更灵活治理]\n    end\n\n    V1 -->|2020年9月| V2\n    V2 -->|2023年4月| V3\n\n    style V3 fill:#ffeb3b&quot;">flowchart LR
    subgraph V1[&quot;PancakeSwap V1&quot;]
        A1[基于BSC]
        A2[ETH-BNB配对]
        A3[低gas费优势]
        A4[高APY农场]
    end

    subgraph V2[&quot;PancakeSwap V2&quot;]
        B1[任意代币配对]
        B2[闪电贷功能]
        B3[价格预言机]
        B4[糖浆池Syrup Pools]
    end

    subgraph V3[&quot;PancakeSwap V3&quot;]
        C1[集中流动性]
        C2[多级费率]
        C3[NFT LP Token]
        C4[多链部署]
        C5[更灵活治理]
    end

    V1 -->|2020年9月| V2
    V2 -->|2023年4月| V3

    style V3 fill:#ffeb3b
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="12-pancakeswap-v3发布背景">1.2 PancakeSwap V3发布背景<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#12-pancakeswap-v3发布背景" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap V3于2023年4月在BNB Chain上发布，具有以下重要意义：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph TB\n    subgraph MarketDemand[\&quot;市场需求\&quot;]\n        M1[提升资本效率]\n        M2[降低交易成本]\n        M3[增强用户体验]\n    end\n\n    subgraph CompetitivePressure[\&quot;竞争压力\&quot;]\n        C1[Uniswap V3成功]\n        C2[多链DEX崛起]\n        C3[需要保持领先]\n    end\n\n    subgraph TechnologyInnovation[\&quot;技术创新\&quot;]\n        T1[集中流动性引入]\n        T2[优化gas效率]\n        T3[完善生态整合]\n    end\n\n    subgraph V3Launch[\&quot;PancakeSwap V3发布\&quot;]\n        L1[2023年4月BNB Chain]\n        L2[2023年6月Ethereum]\n        L3[2023年多链扩展]\n    end\n\n    MarketDemand --> V3Launch\n    CompetitivePressure --> V3Launch\n    TechnologyInnovation --> V3Launch\n\n    style V3Launch fill:#c8e6c9&quot;">graph TB
    subgraph MarketDemand[&quot;市场需求&quot;]
        M1[提升资本效率]
        M2[降低交易成本]
        M3[增强用户体验]
    end

    subgraph CompetitivePressure[&quot;竞争压力&quot;]
        C1[Uniswap V3成功]
        C2[多链DEX崛起]
        C3[需要保持领先]
    end

    subgraph TechnologyInnovation[&quot;技术创新&quot;]
        T1[集中流动性引入]
        T2[优化gas效率]
        T3[完善生态整合]
    end

    subgraph V3Launch[&quot;PancakeSwap V3发布&quot;]
        L1[2023年4月BNB Chain]
        L2[2023年6月Ethereum]
        L3[2023年多链扩展]
    end

    MarketDemand --> V3Launch
    CompetitivePressure --> V3Launch
    TechnologyInnovation --> V3Launch

    style V3Launch fill:#c8e6c9
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="13-关键时间节点">1.3 关键时间节点<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#13-关键时间节点" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>








































<div class="table-container"><table><thead><tr><th>时间</th><th>事件</th><th>意义</th></tr></thead><tbody><tr><td>2020.09</td><td>PancakeSwap V1上线</td><td>BSC首个AMM DEX</td></tr><tr><td>2021.03</td><td>PancakeSwap V2发布</td><td>引入任意代币对</td></tr><tr><td>2023.04</td><td>V3在BNB Chain上线</td><td>集中流动性革命</td></tr><tr><td>2023.06</td><td>V3扩展到Ethereum</td><td>多链战略开始</td></tr><tr><td>2023.09</td><td>V3扩展到Aptos</td><td>非EVM链探索</td></tr><tr><td>2024.01</td><td>V3优化升级</td><td>Gas效率提升</td></tr></tbody></table></div>
<hr/>
<h2 id="2-集中流动性v3的核心创新">2. 集中流动性：V3的核心创新<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#2-集中流动性v3的核心创新" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="21-传统amm的局限性">2.1 传统AMM的局限性<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#21-传统amm的局限性" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>在理解集中流动性之前，先回顾传统AMM（V1/V2）的问题：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph TD\n    subgraph TraditionalAMMProblems[\&quot;传统AMM问题\&quot;]\n        P1[流动性均匀分布在&lt;br/>0到∞的价格范围]\n        P2[大部分流动性&lt;br/>永远不会被使用]\n        P3[资本利用率&lt;br/>仅1-5%]\n        P4[LP无法控制&lt;br/>价格暴露区间]\n    end\n\n    P1 --> R1[资本效率极低]\n    P2 --> R1\n    P3 --> R2[收益率受限]\n    P4 --> R3[被动承担风险]\n\n    style R1 fill:#ffcdd2\n    style R2 fill:#ffcdd2\n    style R3 fill:#ffcdd2&quot;">graph TD
    subgraph TraditionalAMMProblems[&quot;传统AMM问题&quot;]
        P1[流动性均匀分布在&lt;br/>0到∞的价格范围]
        P2[大部分流动性&lt;br/>永远不会被使用]
        P3[资本利用率&lt;br/>仅1-5%]
        P4[LP无法控制&lt;br/>价格暴露区间]
    end

    P1 --> R1[资本效率极低]
    P2 --> R1
    P3 --> R2[收益率受限]
    P4 --> R3[被动承担风险]

    style R1 fill:#ffcdd2
    style R2 fill:#ffcdd2
    style R3 fill:#ffcdd2
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<p><strong>资本利用率问题示例</strong>：</p>
<p>假设CAKE/BNB交易对，当前价格为20 BNB/CAKE：</p>
<ul>
<li>在传统AMM中，流动性分布在价格区间 [0, ∞]</li>
<li>但90%的交易发生在 [18, 22] 价格区间</li>
<li>这意味着<strong>大约10%的流动性在处理90%的交易量</strong></li>
</ul>
<h3 id="22-集中流动性原理">2.2 集中流动性原理<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#22-集中流动性原理" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>集中流动性允许流动性提供者（LP）将资金集中在<strong>自定义的价格区间</strong>内：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph TB\n    subgraph TraditionalAMM[\&quot;传统AMM流动性分布\&quot;]\n        T1[\&quot;价格区间: [0, ∞]\&quot;]\n        T2[\&quot;流动性均匀分布\&quot;]\n        T3[\&quot;大部分资金闲置\&quot;]\n    end\n\n    subgraph PancakeSwapV3[\&quot;PancakeSwap V3 集中流动性\&quot;]\n        V1[\&quot;自定义价格区间&lt;br/>[Pa, Pb]\&quot;]\n        V2[\&quot;流动性高度集中\&quot;]\n        V3[\&quot;资本效率提升&lt;br/>最高4000倍\&quot;]\n    end\n\n    TraditionalAMM -->|革新| PancakeSwapV3\n\n    style PancakeSwapV3 fill:#ffeb3b&quot;">graph TB
    subgraph TraditionalAMM[&quot;传统AMM流动性分布&quot;]
        T1[&quot;价格区间: [0, ∞]&quot;]
        T2[&quot;流动性均匀分布&quot;]
        T3[&quot;大部分资金闲置&quot;]
    end

    subgraph PancakeSwapV3[&quot;PancakeSwap V3 集中流动性&quot;]
        V1[&quot;自定义价格区间&lt;br/>[Pa, Pb]&quot;]
        V2[&quot;流动性高度集中&quot;]
        V3[&quot;资本效率提升&lt;br/>最高4000倍&quot;]
    end

    TraditionalAMM -->|革新| PancakeSwapV3

    style PancakeSwapV3 fill:#ffeb3b
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="23-集中流动性的数学基础">2.3 集中流动性的数学基础<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#23-集中流动性的数学基础" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p><strong>集中流动性公式</strong>（在价格区间 [Pa, Pb] 内）：</p>
<pre><code>(x + L/√Pb) × (y + L×√Pa) = L²
</code></pre>
<p>其中：</p>
<ul>
<li><code>L</code>: 流动性常数（Liquidity）</li>
<li><code>Pa</code>: 价格区间下界</li>
<li><code>Pb</code>: 价格区间上界</li>
<li><code>x</code>, <code>y</code>: 代币的虚拟储备量</li>
</ul>
<h3 id="24-三种价格位置的资产状态">2.4 三种价格位置的资产状态<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#24-三种价格位置的资产状态" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;stateDiagram-v2\n    [*] --> BelowRange: P &lt; Pa\n    [*] --> InRange: Pa ≤ P ≤ Pb\n    [*] --> AboveRange: P > Pb\n\n    BelowRange --> OnlyToken0: 100% token0\n    InRange --> MixedHolding: token0 + token1\n    AboveRange --> OnlyToken1: 100% token1\n\n    state BelowRange as \&quot;价格在区间下方\&quot;\n    state InRange as \&quot;价格在区间内\&quot;\n    state AboveRange as \&quot;价格在区间上方\&quot;\n    state OnlyToken0 as \&quot;只持有Token0\&quot;\n    state MixedHolding as \&quot;混合持有\&quot;\n    state OnlyToken1 as \&quot;只持有Token1\&quot;\n\n    note right of InRange\n        流动性活跃\n        可赚取交易费用\n    end note\n\n    note right of BelowRange\n        流动性未激活\n        等待价格上涨\n    end note\n\n    note right of AboveRange\n        流动性未激活\n        等待价格下跌\n    end note&quot;">stateDiagram-v2
    [*] --> BelowRange: P &lt; Pa
    [*] --> InRange: Pa ≤ P ≤ Pb
    [*] --> AboveRange: P > Pb

    BelowRange --> OnlyToken0: 100% token0
    InRange --> MixedHolding: token0 + token1
    AboveRange --> OnlyToken1: 100% token1

    state BelowRange as &quot;价格在区间下方&quot;
    state InRange as &quot;价格在区间内&quot;
    state AboveRange as &quot;价格在区间上方&quot;
    state OnlyToken0 as &quot;只持有Token0&quot;
    state MixedHolding as &quot;混合持有&quot;
    state OnlyToken1 as &quot;只持有Token1&quot;

    note right of InRange
        流动性活跃
        可赚取交易费用
    end note

    note right of BelowRange
        流动性未激活
        等待价格上涨
    end note

    note right of AboveRange
        流动性未激活
        等待价格下跌
    end note
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<hr/>
<h2 id="3-pancakeswap-v3的特色优势">3. PancakeSwap V3的特色优势<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#3-pancakeswap-v3的特色优势" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="31-多链部署战略">3.1 多链部署战略<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#31-多链部署战略" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph LR\n    subgraph Chains[\&quot;已部署链\&quot;]\n        C1[BNB Chain&lt;br/>主阵地]\n        C2[Ethereum&lt;br/>主要扩展]\n        C3[Aptos&lt;br/>非EVM探索]\n        C4[更多链&lt;br/>持续扩展中]\n    end\n\n    subgraph Benefits[\&quot;多链优势\&quot;]\n        B1[用户多样性]\n        B2[流动性分散]\n        B3[降低单点风险]\n        B4[生态互补]\n    end\n\n    Chains --> Benefits\n\n    style C1 fill:#ffeb3b\n    style C2 fill:#e3f2fd&quot;">graph LR
    subgraph Chains[&quot;已部署链&quot;]
        C1[BNB Chain&lt;br/>主阵地]
        C2[Ethereum&lt;br/>主要扩展]
        C3[Aptos&lt;br/>非EVM探索]
        C4[更多链&lt;br/>持续扩展中]
    end

    subgraph Benefits[&quot;多链优势&quot;]
        B1[用户多样性]
        B2[流动性分散]
        B3[降低单点风险]
        B4[生态互补]
    end

    Chains --> Benefits

    style C1 fill:#ffeb3b
    style C2 fill:#e3f2fd
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="32-更灵活的费率结构">3.2 更灵活的费率结构<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#32-更灵活的费率结构" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap V3在Uniswap V3基础上提供了更丰富的费率选择：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph LR\n    subgraph FeeTiers[\&quot;费用等级\&quot;]\n        F1[\&quot;0.01%&lt;br/>稳定币对\&quot;]\n        F2[\&quot;0.05%&lt;br/>相关资产\&quot;]\n        F3[\&quot;0.25%&lt;br/>主流币对\&quot;]\n        F4[\&quot;1.00%&lt;br/>高风险币对\&quot;]\n    end\n\n    subgraph PancakeFeatures[\&quot;Pancake特色\&quot;]\n        P1[更多费率选择]\n        P2[自定义费率池]\n        P3[灵活治理调整]\n        P4[社区投票机制]\n    end\n\n    FeeTiers --> PancakeFeatures\n\n    style PancakeFeatures fill:#ffeb3b&quot;">graph LR
    subgraph FeeTiers[&quot;费用等级&quot;]
        F1[&quot;0.01%&lt;br/>稳定币对&quot;]
        F2[&quot;0.05%&lt;br/>相关资产&quot;]
        F3[&quot;0.25%&lt;br/>主流币对&quot;]
        F4[&quot;1.00%&lt;br/>高风险币对&quot;]
    end

    subgraph PancakeFeatures[&quot;Pancake特色&quot;]
        P1[更多费率选择]
        P2[自定义费率池]
        P3[灵活治理调整]
        P4[社区投票机制]
    end

    FeeTiers --> PancakeFeatures

    style PancakeFeatures fill:#ffeb3b
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>









































<div class="table-container"><table><thead><tr><th>费率</th><th>PancakeSwap</th><th>Uniswap</th><th>差异</th></tr></thead><tbody><tr><td>0.01%</td><td>✅</td><td>✅</td><td>相同</td></tr><tr><td>0.05%</td><td>✅</td><td>✅</td><td>相同</td></tr><tr><td>0.25%</td><td>✅</td><td>-</td><td>Pancake独有</td></tr><tr><td>0.30%</td><td>✅</td><td>✅</td><td>Pancake 0.25%</td></tr><tr><td>1.00%</td><td>✅</td><td>✅</td><td>相同</td></tr></tbody></table></div>
<h3 id="33-与pancakeswap生态的深度集成">3.3 与PancakeSwap生态的深度集成<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#33-与pancakeswap生态的深度集成" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;mindmap\n  root((PancakeSwap V3&lt;br/>生态集成))\n    Farm(流动性农场)\n      V3农场池\n      自动复投\n      CAKE激励\n    IFO(初始农场发行)\n      V3池参与\n      新币分配\n      社区参与\n    Syrup(糖浆池)\n      CAKE质押\n      收益分配\n      治理权益\n    Lottery(彩票)\n      CAKE代币\n      资金池\n      公平抽奖\n    NFT(收藏品)\n    团队(团队头像)\n    特权(特权卡)\n    营销(营销工具)&quot;">mindmap
  root((PancakeSwap V3&lt;br/>生态集成))
    Farm(流动性农场)
      V3农场池
      自动复投
      CAKE激励
    IFO(初始农场发行)
      V3池参与
      新币分配
      社区参与
    Syrup(糖浆池)
      CAKE质押
      收益分配
      治理权益
    Lottery(彩票)
      CAKE代币
      资金池
      公平抽奖
    NFT(收藏品)
    团队(团队头像)
    特权(特权卡)
    营销(营销工具)
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="34-cake治理代币">3.4 CAKE治理代币<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#34-cake治理代币" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;flowchart TB\n    subgraph CAKE[\&quot;CAKE代币效用\&quot;]\n        C1[投票权&lt;br/>协议治理]\n        C2[收益分配&lt;br/>农场激励]\n        C3[生态支付&lt;br/>手续费]\n        C4[流动性激励&lt;br/>V3池奖励]\n    end\n\n    subgraph Governance[\&quot;治理机制\&quot;]\n        G1[DAO提案]\n        G2[社区投票]\n        G3[参数调整]\n        G4[资金分配]\n    end\n\n    CAKE --> Governance\n\n    style CAKE fill:#ffeb3b\n    style Governance fill:#c8e6c9&quot;">flowchart TB
    subgraph CAKE[&quot;CAKE代币效用&quot;]
        C1[投票权&lt;br/>协议治理]
        C2[收益分配&lt;br/>农场激励]
        C3[生态支付&lt;br/>手续费]
        C4[流动性激励&lt;br/>V3池奖励]
    end

    subgraph Governance[&quot;治理机制&quot;]
        G1[DAO提案]
        G2[社区投票]
        G3[参数调整]
        G4[资金分配]
    end

    CAKE --> Governance

    style CAKE fill:#ffeb3b
    style Governance fill:#c8e6c9
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<hr/>
<h2 id="4-pancakeswap-v3-vs-uniswap-v3">4. PancakeSwap V3 vs Uniswap V3<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#4-pancakeswap-v3-vs-uniswap-v3" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="41-核心差异对比">4.1 核心差异对比<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#41-核心差异对比" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>













































<div class="table-container"><table><thead><tr><th>方面</th><th>PancakeSwap V3</th><th>Uniswap V3</th></tr></thead><tbody><tr><td><strong>部署链</strong></td><td>BNB Chain、Ethereum、Aptos等</td><td>Ethereum、Arbitrum、Optimism等</td></tr><tr><td><strong>费率层级</strong></td><td>0.01%、0.05%、0.25%、1.00%</td><td>0.01%、0.05%、0.30%、1.00%</td></tr><tr><td><strong>治理代币</strong></td><td>CAKE</td><td>UNI</td></tr><tr><td><strong>费用分配</strong></td><td>灵活的协议费率</td><td>固定协议费率</td></tr><tr><td><strong>Gas成本</strong></td><td>BNB Chain上极低</td><td>Ethereum上较高</td></tr><tr><td><strong>生态整合</strong></td><td>农场、IFO、Lottery等深度整合</td><td>相对独立</td></tr><tr><td><strong>社区驱动</strong></td><td>强调社区参与</td><td>团队主导</td></tr></tbody></table></div>
<h3 id="42-选择指南">4.2 选择指南<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#42-选择指南" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;flowchart TD\n    A[\&quot;选择DEX\&quot;] --> B{目标链?}\n\n    B -->|BNB Chain| C[\&quot;PancakeSwap V3\&quot;]\n    B -->|Ethereum| D{优先考虑?}\n\n    D -->|Gas成本| E[\&quot;PancakeSwap V3&lt;br/>(如果V3已部署)\&quot;]\n    D -->|流动性深度| F[\&quot;Uniswap V3\&quot;]\n    D -->|生态整合| G[\&quot;PancakeSwap V3\&quot;]\n    D -->|标准化| H[\&quot;Uniswap V3\&quot;]\n\n    style C fill:#ffeb3b\n    style G fill:#ffeb3b&quot;">flowchart TD
    A[&quot;选择DEX&quot;] --> B{目标链?}

    B -->|BNB Chain| C[&quot;PancakeSwap V3&quot;]
    B -->|Ethereum| D{优先考虑?}

    D -->|Gas成本| E[&quot;PancakeSwap V3&lt;br/>(如果V3已部署)&quot;]
    D -->|流动性深度| F[&quot;Uniswap V3&quot;]
    D -->|生态整合| G[&quot;PancakeSwap V3&quot;]
    D -->|标准化| H[&quot;Uniswap V3&quot;]

    style C fill:#ffeb3b
    style G fill:#ffeb3b
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<p><strong>选择PancakeSwap V3的场景</strong>：</p>
<ul>
<li>交易在BNB Chain上进行</li>
<li>需要极低的gas成本</li>
<li>想要参与PancakeSwap生态（农场、IFO等）</li>
<li>重视社区治理参与</li>
<li>使用CAKE作为主要资产</li>
</ul>
<p><strong>选择Uniswap V3的场景</strong>：</p>
<ul>
<li>交易在Ethereum主网上进行</li>
<li>需要最大的流动性深度</li>
<li>重视协议的标准化程度</li>
<li>机构级应用需求</li>
</ul>
<hr/>
<h2 id="5-pancakeswap-v3的技术特色">5. PancakeSwap V3的技术特色<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#5-pancakeswap-v3的技术特色" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="51-gas优化">5.1 Gas优化<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#51-gas优化" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap V3在BNB Chain上天然享有gas优势：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph LR\n    subgraph Ethereum[\&quot;Ethereum Gas成本\&quot;]\n        E1[Swap: ~$10-50]\n        E2[Add Liquidity: ~$50-200]\n        E3[Remove Liquidity: ~$30-100]\n    end\n\n    subgraph BNBChain[\&quot;BNB Chain Gas成本\&quot;]\n        B1[Swap: ~$0.05-0.5]\n        B2[Add Liquidity: ~$0.2-1.5]\n        B3[Remove Liquidity: ~$0.1-1.0]\n    end\n\n    Ethereum -->|100-200x| BNBChain\n\n    style BNBChain fill:#c8e6c9&quot;">graph LR
    subgraph Ethereum[&quot;Ethereum Gas成本&quot;]
        E1[Swap: ~$10-50]
        E2[Add Liquidity: ~$50-200]
        E3[Remove Liquidity: ~$30-100]
    end

    subgraph BNBChain[&quot;BNB Chain Gas成本&quot;]
        B1[Swap: ~$0.05-0.5]
        B2[Add Liquidity: ~$0.2-1.5]
        B3[Remove Liquidity: ~$0.1-1.0]
    end

    Ethereum -->|100-200x| BNBChain

    style BNBChain fill:#c8e6c9
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="52-代码优化">5.2 代码优化<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#52-代码优化" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap V3在Uniswap V3基础上进行了代码优化：</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="solidity" data-theme="github-light github-dark"><code data-language="solidity" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// PancakeSwap V3的优化示例</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PancakeV3Pool</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IERC721</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IUniswapV3PoolState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 1. 更优化的存储布局</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Slot0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        uint160</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sqrtPriceX96;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        int24</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> tick;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        uint16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> observationIndex;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        uint16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> observationCardinality;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        uint16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> observationCardinalityNext;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        uint8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> feeProtocol;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        bool</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> unlocked;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 2. 改进的gas优化</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    modifier</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(unlocked, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;LOCKED&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        unlocked </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        _</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        unlocked </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></figure>
<h3 id="53-向后兼容性">5.3 向后兼容性<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#53-向后兼容性" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>PancakeSwap V3保持了与V2的兼容性：</p>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;graph LR\n    subgraph V2[\&quot;PancakeSwap V2\&quot;]\n        V2P[传统池]\n        V2L[ERC20 LP]\n        V2S[简单接口]\n    end\n\n    subgraph V3[\&quot;PancakeSwap V3\&quot;]\n        V3P[集中流动性池]\n        V3L[NFT LP]\n        V3S[高级功能]\n    end\n\n    subgraph Bridge[\&quot;迁移工具\&quot;]\n        M1[LP迁移合约]\n        M2[一键迁移]\n        M3[无缝转换]\n    end\n\n    V2 -->|可选迁移| Bridge --> V3\n\n    style V3 fill:#ffeb3b&quot;">graph LR
    subgraph V2[&quot;PancakeSwap V2&quot;]
        V2P[传统池]
        V2L[ERC20 LP]
        V2S[简单接口]
    end

    subgraph V3[&quot;PancakeSwap V3&quot;]
        V3P[集中流动性池]
        V3L[NFT LP]
        V3S[高级功能]
    end

    subgraph Bridge[&quot;迁移工具&quot;]
        M1[LP迁移合约]
        M2[一键迁移]
        M3[无缝转换]
    end

    V2 -->|可选迁移| Bridge --> V3

    style V3 fill:#ffeb3b
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<hr/>
<h2 id="6-pancakeswap-v3的实际应用">6. PancakeSwap V3的实际应用<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#6-pancakeswap-v3的实际应用" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="61-使用场景">6.1 使用场景<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#61-使用场景" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;mindmap\n  root((PancakeSwap V3&lt;br/>使用场景))\n    交易者\n      代币兑换\n      套利交易\n      MEV策略\n    流动性提供者\n      做市收益\n      费用收入\n      CAKE奖励\n    开发者\n      DApp集成\n      聚合器构建\n      工具开发\n    用户\n      低成本交易\n      参与农场\n      IFO参与&quot;">mindmap
  root((PancakeSwap V3&lt;br/>使用场景))
    交易者
      代币兑换
      套利交易
      MEV策略
    流动性提供者
      做市收益
      费用收入
      CAKE奖励
    开发者
      DApp集成
      聚合器构建
      工具开发
    用户
      低成本交易
      参与农场
      IFO参与
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="62-成功案例">6.2 成功案例<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#62-成功案例" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<ol>
<li><strong>稳定币交易</strong>：USDT/USDC池提供极低费率（0.01%）</li>
<li><strong>主流币对</strong>：CAKE/BNB、ETH/BNB等提供深度流动性</li>
<li><strong>新币发行</strong>：通过IFO与V3池结合，提高流动性效率</li>
<li><strong>跨链套利</strong>：利用多链部署进行跨链套利</li>
</ol>
<hr/>
<h2 id="7-本章小结">7. 本章小结<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#7-本章小结" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="71-pancakeswap-v3核心特点">7.1 PancakeSwap V3核心特点<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#71-pancakeswap-v3核心特点" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<pre><button class="expand-button" aria-label="Expand mermaid diagram" data-view-component="true"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"></path></svg></button><code class="mermaid" data-clipboard="&quot;mindmap\n  root((PancakeSwap V3&lt;br/>核心特点))\n    集中流动性\n      自定义价格区间\n      资本效率提升\n      精确风险管理\n    多链部署\n      BNB Chain主阵地\n      Ethereum扩展\n      更多链计划\n    灵活费率\n      0.01%-1.00%\n      自定义选择\n      社区治理\n    生态整合\n      农场激励\n      IFO发行\n      CAKE治理\n    成本优势\n      BNB Chain低gas\n      代码优化\n      向后兼容&quot;">mindmap
  root((PancakeSwap V3&lt;br/>核心特点))
    集中流动性
      自定义价格区间
      资本效率提升
      精确风险管理
    多链部署
      BNB Chain主阵地
      Ethereum扩展
      更多链计划
    灵活费率
      0.01%-1.00%
      自定义选择
      社区治理
    生态整合
      农场激励
      IFO发行
      CAKE治理
    成本优势
      BNB Chain低gas
      代码优化
      向后兼容
</code><div id="mermaid-container" role="dialog"><div id="mermaid-space"><div class="mermaid-content"></div></div></div></pre>
<h3 id="72-关键概念回顾">7.2 关键概念回顾<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#72-关键概念回顾" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>



































<div class="table-container"><table><thead><tr><th>概念</th><th>定义</th><th>重要性</th></tr></thead><tbody><tr><td>集中流动性</td><td>LP在自定义价格区间提供流动性</td><td>V3的核心创新</td></tr><tr><td>多链部署</td><td>同时在多个区块链上运行</td><td>Pancake的战略优势</td></tr><tr><td>灵活费率</td><td>支持多种费率等级选择</td><td>适应不同需求</td></tr><tr><td>CAKE治理</td><td>通过CAKE代币参与协议治理</td><td>社区驱动特色</td></tr><tr><td>生态整合</td><td>与农场、IFO等深度集成</td><td>提供完整DeFi体验</td></tr></tbody></table></div>
<hr/>
<h2 id="下一篇预告">下一篇预告<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#下一篇预告" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>在下一篇文章中，我们将深入探讨<strong>Tick机制与价格数学</strong>，包括：</p>
<ul>
<li>Tick的数学定义与设计原理</li>
<li>价格与Tick的双向转换算法</li>
<li>Q64.96定点数格式详解</li>
<li>PancakeSwap V3中的TickMath库实现</li>
</ul>
<hr/>
<h2 id="参考资料">参考资料<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#参考资料" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://docs.pancakeswap.finance/" class="external">PancakeSwap V3 官方文档<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://github.com/pancakeswap/pancake-v3-core" class="external">PancakeSwap V3 Core 源码<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://docs.pancakeswap.finance/developers/smart-contracts/v3-contracts" class="external">PancakeSwap V3 白皮书<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://docs.pancakeswap.finance/products/pancakeswap-exchange/v3" class="external">PancakeSwap V3 vs Uniswap V3 对比<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>关系图谱</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-28" aria-expanded="true"><h3>目录</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#死磕pancakeswap-v3一pancakeswap-v3概述" data-for="死磕pancakeswap-v3一pancakeswap-v3概述">死磕PancakeSwap V3（一）：PancakeSwap V3概述</a></li><li class="depth-1"><a href="#系列导航" data-for="系列导航">系列导航</a></li><li class="depth-1"><a href="#1-pancakeswap的发展历程" data-for="1-pancakeswap的发展历程">1. PancakeSwap的发展历程</a></li><li class="depth-2"><a href="#11-从v1到v3的演进" data-for="11-从v1到v3的演进">1.1 从V1到V3的演进</a></li><li class="depth-2"><a href="#12-pancakeswap-v3发布背景" data-for="12-pancakeswap-v3发布背景">1.2 PancakeSwap V3发布背景</a></li><li class="depth-2"><a href="#13-关键时间节点" data-for="13-关键时间节点">1.3 关键时间节点</a></li><li class="depth-1"><a href="#2-集中流动性v3的核心创新" data-for="2-集中流动性v3的核心创新">2. 集中流动性：V3的核心创新</a></li><li class="depth-2"><a href="#21-传统amm的局限性" data-for="21-传统amm的局限性">2.1 传统AMM的局限性</a></li><li class="depth-2"><a href="#22-集中流动性原理" data-for="22-集中流动性原理">2.2 集中流动性原理</a></li><li class="depth-2"><a href="#23-集中流动性的数学基础" data-for="23-集中流动性的数学基础">2.3 集中流动性的数学基础</a></li><li class="depth-2"><a href="#24-三种价格位置的资产状态" data-for="24-三种价格位置的资产状态">2.4 三种价格位置的资产状态</a></li><li class="depth-1"><a href="#3-pancakeswap-v3的特色优势" data-for="3-pancakeswap-v3的特色优势">3. PancakeSwap V3的特色优势</a></li><li class="depth-2"><a href="#31-多链部署战略" data-for="31-多链部署战略">3.1 多链部署战略</a></li><li class="depth-2"><a href="#32-更灵活的费率结构" data-for="32-更灵活的费率结构">3.2 更灵活的费率结构</a></li><li class="depth-2"><a href="#33-与pancakeswap生态的深度集成" data-for="33-与pancakeswap生态的深度集成">3.3 与PancakeSwap生态的深度集成</a></li><li class="depth-2"><a href="#34-cake治理代币" data-for="34-cake治理代币">3.4 CAKE治理代币</a></li><li class="depth-1"><a href="#4-pancakeswap-v3-vs-uniswap-v3" data-for="4-pancakeswap-v3-vs-uniswap-v3">4. PancakeSwap V3 vs Uniswap V3</a></li><li class="depth-2"><a href="#41-核心差异对比" data-for="41-核心差异对比">4.1 核心差异对比</a></li><li class="depth-2"><a href="#42-选择指南" data-for="42-选择指南">4.2 选择指南</a></li><li class="depth-1"><a href="#5-pancakeswap-v3的技术特色" data-for="5-pancakeswap-v3的技术特色">5. PancakeSwap V3的技术特色</a></li><li class="depth-2"><a href="#51-gas优化" data-for="51-gas优化">5.1 Gas优化</a></li><li class="depth-2"><a href="#52-代码优化" data-for="52-代码优化">5.2 代码优化</a></li><li class="depth-2"><a href="#53-向后兼容性" data-for="53-向后兼容性">5.3 向后兼容性</a></li><li class="depth-1"><a href="#6-pancakeswap-v3的实际应用" data-for="6-pancakeswap-v3的实际应用">6. PancakeSwap V3的实际应用</a></li><li class="depth-2"><a href="#61-使用场景" data-for="61-使用场景">6.1 使用场景</a></li><li class="depth-2"><a href="#62-成功案例" data-for="62-成功案例">6.2 成功案例</a></li><li class="depth-1"><a href="#7-本章小结" data-for="7-本章小结">7. 本章小结</a></li><li class="depth-2"><a href="#71-pancakeswap-v3核心特点" data-for="71-pancakeswap-v3核心特点">7.1 PancakeSwap V3核心特点</a></li><li class="depth-2"><a href="#72-关键概念回顾" data-for="72-关键概念回顾">7.2 关键概念回顾</a></li><li class="depth-1"><a href="#下一篇预告" data-for="下一篇预告">下一篇预告</a></li><li class="depth-1"><a href="#参考资料" data-for="参考资料">参考资料</a></li><li class="overflow-end"></li></ul></div><div class="backlinks"><h3>反向链接</h3><ul id="list-2" class="overflow"><li><a href="../../../../../../blockchainguide/DApp_Development/应用场景/defi/pancake/v3/README" class="internal">README</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v1.0.0</a> © 2026</p><ul><li><a href="https://github.com/mindcarver">GitHub</a></li></ul></footer></div></div></body><script type="application/javascript" data-persist="true">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module" data-persist="true">function E(a,e){if(!a)return;function t(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function n(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}a?.addEventListener("click",t),window.addCleanup(()=>a?.removeEventListener("click",t)),document.addEventListener("keydown",n),window.addCleanup(()=>document.removeEventListener("keydown",n))}function f(a){for(;a.firstChild;)a.removeChild(a.firstChild)}var m=class{constructor(e,t){this.container=e;this.content=t;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),t=this.onMouseMove.bind(this),n=this.onMouseUp.bind(this),o=this.onTouchStart.bind(this),r=this.onTouchMove.bind(this),i=this.onTouchEnd.bind(this),s=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),this.container.addEventListener("touchstart",o,{passive:!1}),document.addEventListener("touchmove",r,{passive:!1}),document.addEventListener("touchend",i),window.addEventListener("resize",s),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",t),()=>document.removeEventListener("mouseup",n),()=>this.container.removeEventListener("touchstart",o),()=>document.removeEventListener("touchmove",r),()=>document.removeEventListener("touchend",i),()=>window.removeEventListener("resize",s))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let t=this.createButton("+",()=>this.zoom(.1)),n=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(n),e.appendChild(o),e.appendChild(t),this.container.appendChild(e)}createButton(e,t){let n=document.createElement("button");return n.textContent=e,n.className="mermaid-control-button",n.addEventListener("click",t),window.addCleanup(()=>n.removeEventListener("click",t)),n}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}onTouchStart(e){if(e.touches.length!==1)return;this.isDragging=!0;let t=e.touches[0];this.startPan={x:t.clientX-this.currentPan.x,y:t.clientY-this.currentPan.y}}onTouchMove(e){if(!this.isDragging||e.touches.length!==1)return;e.preventDefault();let t=e.touches[0];this.currentPan={x:t.clientX-this.startPan.x,y:t.clientY-this.startPan.y},this.updateTransform()}onTouchEnd(){this.isDragging=!1}zoom(e){let t=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),n=this.content.getBoundingClientRect(),o=n.width/2,r=n.height/2,i=t-this.scale;this.currentPan.x-=o*i,this.currentPan.y-=r*i,this.scale=t,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){let t=this.content.querySelector("svg").getBoundingClientRect(),n=t.width/this.scale,o=t.height/this.scale;this.scale=1,this.currentPan={x:(this.container.clientWidth-n)/2,y:(this.container.clientHeight-o)/2},this.updateTransform()}},T=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],y;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;y||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let t=y.default,n=new WeakMap;for(let r of e)n.set(r,r.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let c=n.get(s);c&&(s.innerHTML=c)}let r=T.reduce((s,c)=>(s[c]=window.getComputedStyle(document.documentElement).getPropertyValue(c),s),{}),i=document.documentElement.getAttribute("saved-theme")==="dark";t.initialize({startOnLoad:!1,securityLevel:"loose",theme:i?"dark":"base",themeVariables:{fontFamily:r["--codeFont"],primaryColor:r["--light"],primaryTextColor:r["--darkgray"],primaryBorderColor:r["--tertiary"],lineColor:r["--darkgray"],secondaryColor:r["--secondary"],tertiaryColor:r["--tertiary"],clusterBkg:r["--light"],edgeLabelBackground:r["--highlight"]}}),await t.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let r=0;r<e.length;r++){let v=function(){let g=l.querySelector("#mermaid-space"),h=l.querySelector(".mermaid-content");if(!h)return;f(h);let w=i.querySelector("svg").cloneNode(!0);h.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new m(g,h)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},i=e[r],s=i.parentElement,c=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(c),L=c.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),E(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript" data-persist="true"></script><script src="../../../../../../postscript.js" type="module" data-persist="true"></script></html>