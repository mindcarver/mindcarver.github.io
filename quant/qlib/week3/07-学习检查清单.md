# å­¦ä¹ æ£€æŸ¥æ¸…å•

## ðŸ“‹ å­¦ä¹ ç›®æ ‡æ£€æŸ¥

### âœ… äº¤æ˜“ç­–ç•¥ç†è®º

- [x] ç†è§£äº¤æ˜“ç­–ç•¥çš„æ ¸å¿ƒç»„æˆ
  - èƒ½è§£é‡Šä¿¡å·ç”Ÿæˆã€ä»“ä½ç®¡ç†ã€é£Žé™©æŽ§åˆ¶ã€æ‰§è¡Œè§„åˆ™
  - èƒ½ç”»å‡ºå®Œæ•´çš„ç­–ç•¥å·¥ä½œæµç¨‹å›¾

- [x] æŽŒæ¡ICã€æ¢æ‰‹çŽ‡ã€å›žæ’¤ç­‰åŸºç¡€æ¦‚å¿µ
  - èƒ½è®¡ç®—ICå’Œä¿¡æ¯æ¯”çŽ‡
  - èƒ½è®¡ç®—æ¢æ‰‹çŽ‡å’Œå›žæ’¤
  - ç†è§£å„æŒ‡æ ‡çš„å«ä¹‰

- [x] ç†è§£Top-Kç­–ç•¥åŽŸç†
  - èƒ½å®žçŽ°Top-Kå‡ç­‰æƒé‡ç­–ç•¥
  - äº†è§£Kå€¼é€‰æ‹©çš„å½±å“
  - çŸ¥é“Top-Kç­–ç•¥çš„ä¼˜ç¼ºç‚¹

- [x] ç†è§£ICæƒé‡ç­–ç•¥
  - èƒ½è®¡ç®—æ»šåŠ¨IC
  - èƒ½å®žçŽ°ICæƒé‡åˆ†é…
  - äº†è§£ICæƒé‡ç­–ç•¥çš„é€‚ç”¨åœºæ™¯

- [x] äº†è§£å‡å€¼-æ–¹å·®ä¼˜åŒ–ï¼ˆMVOï¼‰
  - ç†è§£é©¬ç§‘ç»´èŒ¨ç†è®º
  - èƒ½ä½¿ç”¨CVXPYæ±‚è§£MVä¼˜åŒ–
  - äº†è§£æœ‰æ•ˆå‰æ²¿çš„æ¦‚å¿µ

### âœ… æŠ•èµ„ç»„åˆæž„å»ºæ–¹æ³•

- [x] èƒ½å®žçŽ°Top-Kå‡ç­‰æƒé‡
  - èƒ½ç¼–å†™å®Œæ•´çš„ç­–ç•¥ä»£ç 
  - èƒ½åˆ†æžKå€¼æ•æ„Ÿæ€§
  - èƒ½ä¼˜åŒ–è°ƒä»“é¢‘çŽ‡

- [x] èƒ½å®žçŽ°ICæƒé‡åˆ†é…
  - èƒ½è®¡ç®—åŽ†å²IC
  - èƒ½å®žçŽ°æƒé‡å¹³æ»‘
  - èƒ½é™åˆ¶å•è‚¡æƒé‡

- [x] èƒ½å®žçŽ°MVä¼˜åŒ–
  - èƒ½ä¼°è®¡æœŸæœ›æ”¶ç›Šå’Œåæ–¹å·®çŸ©é˜µ
  - èƒ½æ·»åŠ çº¦æŸæ¡ä»¶
  - èƒ½è¿›è¡Œæ­£åˆ™åŒ–å¤„ç†

- [x] èƒ½å¯¹æ¯”ä¸‰ç§æ–¹æ³•
  - èƒ½ä»Žæ€§èƒ½ã€å¤æ‚åº¦ã€é£Žé™©ç­‰ç»´åº¦å¯¹æ¯”
  - èƒ½é€‰æ‹©åˆé€‚çš„æ–¹æ³•
  - èƒ½ç»“åˆå¤šç§æ–¹æ³•

### âœ… Executorä¸Žæˆæœ¬æ¨¡åž‹

- [x] ç†è§£Executoræœºåˆ¶
  - èƒ½è§£é‡ŠExecutorçš„å·¥ä½œåŽŸç†
  - èƒ½å®žçŽ°ç®€å•çš„Executor
  - èƒ½ç®¡ç†æŒä»“å’Œäº¤æ˜“

- [x] æŽŒæ¡äº¤æ˜“æˆæœ¬æ¨¡åž‹
  - èƒ½è®¡ç®—æ‰‹ç»­è´¹
  - èƒ½è®¡ç®—æ»‘ç‚¹æˆæœ¬
  - èƒ½è®¡ç®—å¸‚åœºå†²å‡»

- [x] èƒ½è¿›è¡Œæˆæœ¬æ•æ„Ÿæ€§åˆ†æž
  - èƒ½æµ‹è¯•ä¸åŒæˆæœ¬å‚æ•°çš„å½±å“
  - èƒ½åˆ†æžæ¢æ‰‹çŽ‡ä¸Žæˆæœ¬çš„å…³ç³»
  - èƒ½ä¼˜åŒ–ç­–ç•¥é™ä½Žæˆæœ¬

### âœ… ç»©æ•ˆè¯„ä¼°æŒ‡æ ‡

- [x] èƒ½è®¡ç®—æ”¶ç›ŠçŽ‡æŒ‡æ ‡
  - èƒ½è®¡ç®—æ€»æ”¶ç›ŠçŽ‡
  - èƒ½è®¡ç®—å¹´åŒ–æ”¶ç›ŠçŽ‡
  - èƒ½è®¡ç®—è¶…é¢æ”¶ç›ŠçŽ‡

- [x] èƒ½è®¡ç®—é£Žé™©æŒ‡æ ‡
  - èƒ½è®¡ç®—æ³¢åŠ¨çŽ‡
  - èƒ½è®¡ç®—æœ€å¤§å›žæ’¤
  - èƒ½è®¡ç®—VaR

- [x] èƒ½è®¡ç®—é£Žé™©è°ƒæ•´æ”¶ç›ŠæŒ‡æ ‡
  - èƒ½è®¡ç®—å¤æ™®æ¯”çŽ‡
  - èƒ½è®¡ç®—ä¿¡æ¯æ¯”çŽ‡
  - èƒ½è®¡ç®—å¡å°”é©¬æ¯”çŽ‡

- [x] èƒ½è®¡ç®—äº¤æ˜“ç›¸å…³æŒ‡æ ‡
  - èƒ½è®¡ç®—æ¢æ‰‹çŽ‡
  - èƒ½è®¡ç®—èƒœçŽ‡
  - èƒ½è®¡ç®—ç›ˆäºæ¯”

### âœ… å®žéªŒåˆ†æžæ–¹æ³•

- [x] èƒ½è¿›è¡Œå‚æ•°æ•æ„Ÿæ€§åˆ†æž
  - èƒ½å®žçŽ°å•å‚æ•°æ•æ„Ÿæ€§åˆ†æž
  - èƒ½å®žçŽ°å¤šå‚æ•°æ•æ„Ÿæ€§åˆ†æž
  - èƒ½ç»˜åˆ¶æ•æ„Ÿæ€§çƒ­åŠ›å›¾

- [x] èƒ½è¿›è¡ŒæŒä»“å‘¨æœŸç ”ç©¶
  - èƒ½æµ‹è¯•ä¸åŒè°ƒä»“é¢‘çŽ‡
  - èƒ½åˆ†æžæŒä»“å‘¨æœŸçš„å½±å“
  - èƒ½é€‰æ‹©æœ€ä¼˜è°ƒä»“é¢‘çŽ‡

- [x] èƒ½è¿›è¡Œæ ·æœ¬å¤–éªŒè¯
  - èƒ½å®žçŽ°æ»šåŠ¨çª—å£éªŒè¯
  - èƒ½å®žçŽ°æ‰©å±•çª—å£éªŒè¯
  - èƒ½è¿›è¡Œæ—¶é—´åºåˆ—äº¤å‰éªŒè¯

### âœ… å›žæµ‹æµç¨‹ä¸Žå®žè·µ

- [x] èƒ½ä½¿ç”¨Qlibæ¡†æž¶
  - èƒ½åˆå§‹åŒ–Qlib
  - èƒ½åŠ è½½æ•°æ®
  - èƒ½è¿›è¡Œç‰¹å¾å·¥ç¨‹

- [x] èƒ½å®Œæˆå®Œæ•´å›žæµ‹
  - èƒ½è®­ç»ƒæ¨¡åž‹
  - èƒ½å®šä¹‰ç­–ç•¥
  - èƒ½é…ç½®Executor
  - èƒ½æ‰§è¡Œå›žæµ‹
  - èƒ½åˆ†æžç»“æžœ

- [x] èƒ½é¿å…å¸¸è§é”™è¯¯
  - èƒ½é¿å…æœªæ¥å‡½æ•°
  - èƒ½æ­£ç¡®å¤„ç†æˆæœ¬
  - èƒ½é˜²æ­¢è¿‡æ‹Ÿåˆ

## ðŸŽ¯ å®žè·µèƒ½åŠ›æ£€æŸ¥

### âœ… èƒ½ç‹¬ç«‹å®Œæˆçš„é¡¹ç›®

- [ ] é¡¹ç›®1: Top-Kç­–ç•¥å›žæµ‹
  - å®žçŽ°Top-Kç­–ç•¥
  - å®Œæˆå®Œæ•´å›žæµ‹
  - åˆ†æžç­–ç•¥è¡¨çŽ°

- [ ] é¡¹ç›®2: ICæƒé‡ç­–ç•¥
  - è®¡ç®—åŽ†å²IC
  - å®žçŽ°ICæƒé‡ç­–ç•¥
  - å¯¹æ¯”Top-Kç­–ç•¥

- [ ] é¡¹ç›®3: MVä¼˜åŒ–ç­–ç•¥
  - ä¼°è®¡æ”¶ç›Šå’Œé£Žé™©
  - æ±‚è§£MVä¼˜åŒ–
  - åˆ†æžç»„åˆç‰¹å¾

- [ ] é¡¹ç›®4: å‚æ•°ä¼˜åŒ–
  - è¿›è¡Œå‚æ•°æ•æ„Ÿæ€§åˆ†æž
  - å¯»æ‰¾æœ€ä¼˜å‚æ•°ç»„åˆ
  - éªŒè¯å‚æ•°ç¨³å®šæ€§

- [ ] é¡¹ç›®5: æˆæœ¬åˆ†æž
  - è¿›è¡Œæˆæœ¬æ•æ„Ÿæ€§æµ‹è¯•
  - ä¼˜åŒ–ç­–ç•¥é™ä½Žæˆæœ¬
  - åˆ†æžæˆæœ¬å¯¹æ”¶ç›Šçš„å½±å“

### âœ… èƒ½å›žç­”çš„é—®é¢˜

1. **ä¸ºä»€ä¹ˆéœ€è¦å›žæµ‹ï¼Ÿ**
   - éªŒè¯ç­–ç•¥æœ‰æ•ˆæ€§
   - è¯„ä¼°ç­–ç•¥é£Žé™©
   - ä¼˜åŒ–ç­–ç•¥å‚æ•°

2. **Top-Kã€ICæƒé‡ã€MVä¼˜åŒ–ï¼Œå“ªä¸ªæ›´å¥½ï¼Ÿ**
   - æ²¡æœ‰ç»å¯¹æœ€å¥½çš„æ–¹æ³•
   - æ ¹æ®å®žé™…æƒ…å†µé€‰æ‹©
   - éƒ½éœ€è¦å­¦ä¹ å’Œç†è§£

3. **äº¤æ˜“æˆæœ¬æœ‰å¤šå¤§å½±å“ï¼Ÿ**
   - å½±å“å¯èƒ½éžå¸¸å¤§
   - é«˜æ¢æ‰‹çŽ‡ç­–ç•¥å¯¹æˆæœ¬æ›´æ•æ„Ÿ
   - åŠ¡å¿…åšæˆæœ¬æ•æ„Ÿæ€§åˆ†æž

4. **å¦‚ä½•é¿å…è¿‡æ‹Ÿåˆï¼Ÿ**
   - ä½¿ç”¨æ ·æœ¬å¤–éªŒè¯
   - é™åˆ¶å‚æ•°æ•°é‡
   - ç®€åŒ–ç­–ç•¥é€»è¾‘

5. **å“ªäº›æŒ‡æ ‡æœ€é‡è¦ï¼Ÿ**
   - å¤æ™®æ¯”çŽ‡ï¼šé£Žé™©è°ƒæ•´åŽæ”¶ç›Š
   - æœ€å¤§å›žæ’¤ï¼šæœ€å¤§æŸå¤±
   - ICï¼šé¢„æµ‹èƒ½åŠ›
   - æ¢æ‰‹çŽ‡ï¼šäº¤æ˜“æ´»è·ƒåº¦

## ðŸ“š å­¦ä¹ è·¯å¾„

### ðŸŸ¢ åˆå­¦è€…è·¯å¾„

```
1. äº¤æ˜“ç­–ç•¥ç†è®º
   â†“
2. Top-Kç­–ç•¥å®žçŽ°
   â†“
3. ç»©æ•ˆè¯„ä¼°æŒ‡æ ‡
   â†“
4. ç®€å•å›žæµ‹
```

### ðŸŸ¡ è¿›é˜¶è·¯å¾„

```
1. ICæƒé‡ç­–ç•¥
   â†“
2. MVä¼˜åŒ–æ–¹æ³•
   â†“
3. å‚æ•°æ•æ„Ÿæ€§åˆ†æž
   â†“
4. æ ·æœ¬å¤–éªŒè¯
```

### ðŸ”´ å®žæˆ˜è·¯å¾„

```
1. å®Œæ•´Qlibå›žæµ‹
   â†“
2. ç­–ç•¥ä¼˜åŒ–
   â†“
3. æˆæœ¬æŽ§åˆ¶
   â†“
4. å®žç›˜éªŒè¯
```

## ðŸ”§ å·¥å…·ç®±

### å¿…å¤‡ Python åº“

```python
import qlib              # é‡åŒ–æŠ•èµ„æ¡†æž¶
import pandas as pd       # æ•°æ®å¤„ç†
import numpy as np        # æ•°å€¼è®¡ç®—
import lightgbm as lgb    # æ¢¯åº¦æå‡æ ‘
import cvxpy as cp        # å‡¸ä¼˜åŒ–
import matplotlib.pyplot as plt  # å¯è§†åŒ–
import seaborn as sns     # ç»Ÿè®¡ç»˜å›¾
```

### å¸¸ç”¨ä»£ç ç‰‡æ®µ

#### 1. Top-Kç­–ç•¥

```python
def topk_strategy(predictions, k=20):
    sorted_pred = predictions.sort_values(ascending=False)
    topk = sorted_pred[:k]
    weight = 1.0 / k
    weights = pd.Series(0, index=predictions.index)
    weights[topk.index] = weight
    return weights
```

#### 2. ICè®¡ç®—

```python
from scipy.stats import spearmanr

def calculate_ic(predictions, returns):
    ic, _ = spearmanr(predictions, returns)
    return ic
```

#### 3. MVä¼˜åŒ–

```python
def mv_optimization(returns, risk_aversion=1.0, max_weight=0.1):
    n = len(returns.columns)
    w = cp.Variable(n)
    
    mu = returns.mean().values
    sigma = returns.cov().values
    sigma_reg = sigma + 1e-6 * np.eye(n)
    
    objective = cp.Maximize(mu @ w - risk_aversion * cp.quad_form(w, sigma_reg))
    constraints = [cp.sum(w) == 1, w >= 0, w <= max_weight]
    
    problem = cp.Problem(objective, constraints)
    problem.solve()
    
    return pd.Series(w.value, index=returns.columns)
```

#### 4. ç»©æ•ˆè¯„ä¼°

```python
def evaluate_portfolio(returns, benchmark_returns=None):
    cumulative_returns = returns.cumsum()
    
    metrics = {}
    metrics['total_return'] = cumulative_returns.iloc[-1]
    metrics['volatility'] = returns.std() * np.sqrt(252)
    
    _, max_drawdown = calculate_max_drawdown(cumulative_returns)
    metrics['max_drawdown'] = max_drawdown
    
    sharpe = returns.mean() / returns.std() * np.sqrt(252)
    metrics['sharpe_ratio'] = sharpe
    
    return metrics
```

## ðŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ 

å®Œæˆ Week 4 åŽï¼Œä½ å·²ç»æŽŒæ¡äº†ï¼š

âœ… äº¤æ˜“ç­–ç•¥ç†è®º
âœ… æŠ•èµ„ç»„åˆæž„å»ºæ–¹æ³•
âœ… Executorä¸Žæˆæœ¬æ¨¡åž‹
âœ… ç»©æ•ˆè¯„ä¼°æŒ‡æ ‡
âœ… å®žéªŒåˆ†æžæ–¹æ³•
âœ… å®Œæ•´å›žæµ‹æµç¨‹

**ä¸‹ä¸€æ­¥ï¼šå®žæˆ˜åº”ç”¨**

ä½ å°†å­¦ä¹ ï¼š
- å®Œæ•´ç­–ç•¥å¼€å‘
- å®žç›˜é£Žé™©ç®¡ç†
- ç­–ç•¥ç›‘æŽ§ç³»ç»Ÿ
- æŒç»­ä¼˜åŒ–æ”¹è¿›

---

**ç¥å­¦ä¹ é¡ºåˆ©ï¼** ðŸŽ‰
